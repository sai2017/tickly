<div class='mypage-edit-wrap'>
  <div class='mypage-edit-title'>プロフィール編集</div>
  <div class='form-wrap'>
    <%= form_for @current_person, url: mypage_update_path, html: { method: :patch, enforce_utf8: false } do |f| %>
      <%= f.fields_for :profile, @current_person.profile do |pf| %>
        <div class="form-area">
          <%= pf.label 'お名前（本名を入力してください）' %>
          <%= pf.text_field :name, class: "input-form" %>
        </div>
        <div class="form-area">
          <%= pf.label '生年月日' %><br>
          <%= pf.date_select :birthday, use_month_numbers: true, start_year: 1930, 
                              end_year: (Time.current.year - 10), include_blank: true %>
        </div>
        <div class='icon-label'>アイコン</div>
        <div id="img_field" onClick="$('#file').click()" >
          <% if @current_person.profile.img_name? %>
            <%= image_tag @current_person.profile.img_name.url(:thumb) %>
          <% else %>
            <%= image_tag 'default-person-icon.jpeg' %>
          <% end %>
        </div>
        <div class="form-area">
          <%= pf.file_field :img_name, class: "image", style: "display:none;", id: "file"%>
          <p class='delete-image-checkbox'><%= pf.check_box :remove_img_name %>画像を削除する</p>
        </div>
        <div class="form-area">
          <%= pf.label '会社名' %>
          <%= pf.text_field :company_name, class: "input-form" %>
        </div>
        <div class="form-area">
          <%= pf.label '肩書き' %>
          <%= pf.text_field :occupation, class: "input-form" %>
        </div>
        <div class="form-area">
          <%= pf.label 'キャッチコピー' %>
          <%= pf.text_field :catch_copy, class: "input-form" %>
        </div>
        <div class="form-area">
          <%= pf.label 'これまでのSTORY(1000文字以内)' %>
          <%= pf.text_area :self_introduction, class: "form-control" %>
        </div>
        <label class='title-label'>職業タイプ ※複数選択可</label>
        <section class="user-edit-section">
          <p class="user-edit-category">
            選択して下さい
            <i class="fas fa-angle-down fa-2x"></i>
          </p>
          <div class="user-edit-list-none">
            <ul class="user-edit-list-inner">
              <%= f.collection_check_boxes(:job_category_ids, JobCategory.all, :id, :name) do |job_category| %>
                <li class="user-edit-list-item">
                  <%= job_category.label do %>
                    <%= job_category.check_box %>
                    <%= job_category.text %>
                  <% end %>
                </li>
              <% end %>
            </ul>
          </div>
        </section> 
        <div class="form-area">
          <%= pf.label '現在の活動に至った理由（原体験）' %>
          <%= pf.text_area :original_experience, class: "form-control" %>
        </div>
        <div class="form-area">
          <%= pf.label '今後実現したいことやビジョン' %>
          <%= pf.text_area :want_to_do, class: "form-control" %>
        </div>
        <div class="form-area">
          <%= pf.label '現在の活動内容' %>
          <%= pf.text_area :current_work, class: "form-control" %>
        </div>
        <label class='title-label'>コミュニケーションの手段 ※複数選択可</label>
        <section class="user-edit-section">
          <p class="user-edit-category">
            選択して下さい
            <i class="fas fa-angle-down fa-2x"></i>
          </p>
          <div class="user-edit-list-none">
            <ul class="user-edit-list-inner">
              <%= f.collection_check_boxes(:communication_method_ids, CommunicationMethod.all, :id, :name) do |method| %>
                <li class="user-edit-list-item">
                  <%= method.label do %>
                    <%= method.check_box %>
                    <%= method.text %>
                  <% end %>
                </li>
              <% end %>
            </ul>
          </div>
        </section> 
        <label class='title-label'>bareeの利用目的 ※複数選択可</label>
        <section class="user-edit-section">
          <p class="user-edit-category">
            選択して下さい
            <i class="fas fa-angle-down fa-2x"></i>
          </p>
          <div class="user-edit-list-none">
            <ul class="user-edit-list-inner">
              <%= f.collection_check_boxes(:purpose_of_use_ids, PurposeOfUse.all, :id, :name) do |purpose| %>
                <li class="user-edit-list-item">
                  <%= purpose.label do %>
                    <%= purpose.check_box %>
                    <%= purpose.text %>
                  <% end %>
                </li>
              <% end %>
            </ul>
          </div>
        </section> 
        <label class='title-label'>居住地</label>
        <div class="form-area">
          <%= pf.collection_select :prefecture_id, Prefecture.all, :id, :name, include_blank: '選択して下さい' %>
        </div>
        <div class='btn-wrap'>
          <%= f.submit '更新する', class: "btn default-btn" %>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
